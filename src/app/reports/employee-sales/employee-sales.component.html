<mat-card class="header-main-content">
  <div fxLayout="row">
      <div fxFlex="25%" fxFlex.md="35%" fxFlex.sm="40%" class="breadcrumb-content">
      </div>
      <div fxFlex="50%" fxFlex.md="30%" fxFlex.sm="20%" class="breadcrumb-header-content center">
          Employee Sales Report
      </div>
      <div fxFlex="25%" fxFlex.md="35%" fxFlex.sm="40%" class="breadcrumb-btn-content end">
          <button mat-button matSuffix mat-stroked-button class="add-new-btn" [matMenuTriggerFor]="menu"
              type="button">
              <mat-icon class="report-header-button">get_app</mat-icon>
              <span>
                  <a class="add-new-label">EXPORT</a>
              </span>
          </button>
          <mat-menu #menu="matMenu">
              <button mat-menu-item [disabled]="rows.length == 0" (click)="getExport('pdf')">PDF</button>
              <button mat-menu-item [disabled]="rows.length == 0" (click)="getExport('csv')">CSV</button>
              <button mat-menu-item [disabled]="rows.length == 0" (click)="getExport('xls')">EXCEL</button>
          </mat-menu>
          <!-- <button mat-button matSuffix mat-stroked-button class="add-new-btn" (click)="reset_form()">
              <mat-icon class="report-header-button">refresh</mat-icon>
              <span>
                  <a class="add-new-label">RESET</a>
              </span>
          </button> -->
      </div>
  </div>
</mat-card>

<mat-progress-bar mode="indeterminate" *ngIf="inProgress"></mat-progress-bar>

<div class="top-20 report-inner-height">
  <div fxFlex="96%" fxFlexOffset="2%">
      <mat-card class="box-shadow report-filter-bar">
          <div _ngcontent-c41="" class="button-row">
              <form [formGroup]="employeeSalesList">
                  <div class="" fxLayout="row" fxLayoutGap="1%" fxLayoutAlign="left">
                      <div fxFlex="48%">
                          <mat-form-field fxFlex="100%">
                              <mat-select [formControl]="employeeSalesList.controls['store_id']" placeholder="Store"
                                  [disableOptionCentering]="true">
                                  <mat-option *ngFor="let wh of storeList" [value]="wh.store_id">{{ wh.name }}
                                  </mat-option>
                              </mat-select>
                          </mat-form-field>
                      </div>
                      <!-- <div fxFlex="20%">
                          <mat-form-field fxFlex="100%">
                              <input matInput placeholder="Customer Name"
                                  [formControl]="orderlist.controls['customer_name']">
                          </mat-form-field>
                      </div> -->
                      <!-- <div fxFlex="33.33%">
                          <mat-form-field fxFlex="100%">
                              <input matInput placeholder="Order ID"
                                  [formControl]="employeeSalesList.controls['order_pub_id']">
                          </mat-form-field>
                      </div> -->
                      <div fxFlex="48%">
                          <mat-form-field fxFlex="100%" class="range-date-input">
                              <input type="text" autocomplete="off" readonly="true" matInput [locale]="localconfi"
                                  [alwaysShowCalendars]="true" ngxDaterangepickerMd startKey="start" endKey="end"
                                  [ranges]="ranges" [formControl]="employeeSalesList.controls['selected']" [minDate]="minDate"
                                  [maxDate]="maxDate" [(ngModel)]="selected"
[isInvalidDate]="isInvalidDate" placeholder="Select Dates" [autoApply]="true"
                                  [opens]="'left'">
                          </mat-form-field>
                      </div>
                  </div>
              </form>
          </div>
      </mat-card>

      <!-- table start -->
      <div class="section-content">
          <!-- <h2 class="padding-closeout" *ngIf="rows?.length > 0">Daily Interim Summary</h2> -->
          <mat-card class="box-shadow report-listing" *ngIf="rows?.length > 0">

              <ngx-datatable #myDatatable class="material" [ngStyle]="{'height':'auto'}" [headerHeight]="50"
                  [limit]="8" [columnMode]="'force'" [footerHeight]="50" [rowHeight]="48" [scrollbarV]="true"
                  [rows]="rows" >

                  <ngx-datatable-column [resizeable]="false" prop="user_name" name="Employee">
                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                          let-row="row">
                          <span title="{{value}}"> {{value}}</span>
                      </ng-template>
                  </ngx-datatable-column>

                  <ngx-datatable-column [resizeable]="false" prop="total_order_count" name="Order">
                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                          let-row="row">
                          <span title="{{value}}"> {{value}}</span>
                      </ng-template>
                  </ngx-datatable-column>

                  <ngx-datatable-column [resizeable]="false" prop="sold_qty" name="Qty Sold">
                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                          let-row="row">
                          <span title="{{value}}"> {{value}}</span>
                      </ng-template>
                  </ngx-datatable-column>

                  <ngx-datatable-column [resizeable]="false" prop="purchase_price_of_sold_qty" name="Purchase price of sold qty">
                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                          let-row="row">
                          <span title="{{value}}"> {{value}}</span>
                      </ng-template>
                  </ngx-datatable-column>

                  <ngx-datatable-column [resizeable]="false" prop="selling_price_of_sold_qty" name="Selling Price of sold qty">
                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                          let-row="row">
                          <span title="{{value}}"> {{value}}</span>
                      </ng-template>
                  </ngx-datatable-column>

                  <ngx-datatable-footer>
                      <ng-template ngx-datatable-footer-template let-rowCount="rowCount">
                          <div class="total-rows">
                              Total : {{rowCount}}
                          </div>
                      </ng-template>
                  </ngx-datatable-footer>
              </ngx-datatable>
          </mat-card>
          <div fxLayout="column" *ngIf="rows?.length==0 && !inProgress" class="report-error-msg">
              <div class="center">
                  <div>
                      <img src="../../assets/images/sad.svg" class="sad" alt="No Data Found">
                  </div>
                  <div>
                      <span class="Sorry-no-results-fo">Sorry, no results found</span>
                  </div>
              </div>
          </div>
      </div>
      <!-- table end -->
  </div>
</div>